<form #nodeForm='ngForm' class="nodeform">
  <header class="nodeform__header">
    <div class="mr-auto">
      <h2>{{(node?.name)|| 'Node name'}}</h2>
      <p>Script node</p>
      <i>{{node|json}}</i>
    </div>
    <button class="btn btn-primary mini-button">Create</button>
    <button class="btn btn-danger mini-button" (click)="goBack()">Cancel</button>
  </header>
  <div class="nodeform__body d-flex">
    <!--START: script node-->
    <div *ngIf="node?.node_type === 'script'" class="w-100">
      <div class="border-blue w-100 p-2">
        <div style="width: 50%">
          <h4>Input</h4>
          <div [(ngModel)]="radioModel" ngbRadioGroup
               name="input"
               style="width: 250px; margin-left: 10px"
               class="btn-group btn-group-toggle btn-outline-toggle-group btn-group-full-width btn-toggle-radio-group m-0">
            <label ngbButtonLabel class="btn btn-outline-primary p-1 mr-0">
              <input ngbButton type="radio" value="script"> Script
            </label>
            <label ngbButtonLabel class="btn btn-outline-primary p-1">
              <input ngbButton type="radio" value="data"> Data
            </label>
          </div>

          <ng-container *ngIf="node">
            <div *ngFor="let input of node.control_inputs">
              <h5 style="margin-top: 10px">Input 1</h5>
              <div class="d-flex">
                <div class="d-flex align-items-center mr-2" style="flex-grow: 1">
                  <label for="" class="mr-1 m-0">Key</label>
                  <input ngModel [fieldSize]="'small'" name="name" type="text" nbInput fullWidth placeholder="Project">
                </div>
                <div class="d-flex align-items-center mr-1" style="flex-grow: 1">
                  <label for="" class="mr-1 m-0" style="flex-shrink: 0">Display name</label>
                  <input ngModel [fieldSize]="'small'" name="name" type="text" nbInput fullWidth placeholder="Project">
                </div>
              </div>
            </div>
          </ng-container>
          <button class="btn btn-primary mini-button">+ Add Output</button>
        </div>
      </div>
      <div class="border-blue p-2">
        <h3>Script</h3>
        <textarea placeholder="Paste script here" ngModel name="name" type="text" nbInput fullWidth></textarea>
      </div>
      <div style="width: 100%; border: 1px solid #3d3780;" class="p-2">
        <div style="width: 50%; ">
          <h4>Output</h4>
          <div [(ngModel)]="radioModel"  ngbRadioGroup
               style="width: 250px; margin-left: 10px"
               class="btn-group btn-group-toggle btn-outline-toggle-group btn-group-full-width btn-toggle-radio-group m-0">
            <label ngbButtonLabel class="btn btn-outline-primary p-1 mr-0">
              <input ngbButton type="radio" value="script"> Script
            </label>
            <label ngbButtonLabel class="btn btn-outline-primary p-1">
              <input ngbButton type="radio" value="data"> Data
            </label>
          </div>

          <h5 class="mr-2 mt-2">Output 1</h5>
          <div class="d-flex">
            <div class="d-flex align-items-center mr-2" style="flex-grow: 1">
              <label for="" class="mr-1 m-0">Key</label>
              <input ngModel [fieldSize]="'small'" name="name" type="text" nbInput fullWidth placeholder="Project">
            </div>
            <div class="d-flex align-items-center mr-1" style="flex-grow: 1">
              <label for="" class="mr-1 m-0" style="flex-shrink: 0">Display name</label>
              <input ngModel [fieldSize]="'small'" name="name" type="text" nbInput fullWidth placeholder="Project">
            </div>
          </div>
          <button class="btn btn-primary mini-button">+ Add Output</button>
        </div>
      </div>
    </div>
    <!--END: script node-->

    <!--START: data node-->
    <div class="w-100" *ngIf="node?.node_type === 'data'">
      <div class="p-2 border-blue">
        <div>
          <h5>CSV node</h5>
          <div class="d-flex align-items-center mr-1">
            <input style="flex:2" class="mr-2" ngModel [fieldSize]="'small'" name="name" type="text" nbInput fullWidth placeholder="File name">
            <input style="flex:1" ngModel [fieldSize]="'small'" name="name" type="text" nbInput fullWidth placeholder="Display name">
          </div>
        </div>
      </div>
      <div class="border-blue w-100 p-2">
        <h5>Output</h5>
        <div>
          <div class="d-flex">
            <label>
              <span style="width: 140px">Display name</span>
              <input ngModel [fieldSize]="'small'" name="file_name" type="text" nbInput fullWidth placeholder="Project">
            </label>

            <label>
              <span>Data type</span>
              <select name="environmentID" ngModel class="form-control mini-select">
                <option  value="hello">hello</option>
              </select>
            </label>
          </div>
        </div>
      </div>
    </div>
    <!--END: data node-->


    <div  class="nodepreview p-3">
      <h5>Preview</h5>
    </div>
  </div>
</form>

